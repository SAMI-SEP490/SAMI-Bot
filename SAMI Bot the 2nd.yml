app:
  description: ''
  icon: üè¨
  icon_background: '#FBE8FF'
  mode: agent-chat
  name: SAMI Bot the 2nd
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/gemini:0.5.11@03fc6e873d0f4c601f0a8de0867d7abdd5dd2b4191a1d85bd4bede10855afc17
    version: null
kind: app
model_config:
  agent_mode:
    enabled: true
    max_iteration: 10
    prompt: null
    strategy: function_call
    tools:
    - enabled: true
      notAuthor: false
      provider_id: 69341e0e-9cce-4940-8ddb-f5740a6ea060
      provider_name: SAMI Bot Tools
      provider_type: api
      tool_label: getTenantContext
      tool_name: getTenantContext
      tool_parameters: {}
    - enabled: true
      notAuthor: false
      provider_id: 69341e0e-9cce-4940-8ddb-f5740a6ea060
      provider_name: SAMI Bot Tools
      provider_type: api
      tool_label: getMyMaintenanceRequests
      tool_name: getMyMaintenanceRequests
      tool_parameters: {}
    - enabled: true
      notAuthor: false
      provider_id: 69341e0e-9cce-4940-8ddb-f5740a6ea060
      provider_name: SAMI Bot Tools
      provider_type: api
      tool_label: createMaintenanceRequest
      tool_name: createMaintenanceRequest
      tool_parameters:
        category: ''
        description: ''
        priority: ''
        room_id: ''
        title: ''
    - enabled: true
      notAuthor: false
      provider_id: 69341e0e-9cce-4940-8ddb-f5740a6ea060
      provider_name: SAMI Bot Tools
      provider_type: api
      tool_label: updateMyMaintenanceRequest
      tool_name: updateMyMaintenanceRequest
      tool_parameters:
        category: ''
        description: ''
        id: ''
        priority: ''
        title: ''
    - enabled: true
      notAuthor: false
      provider_id: 69341e0e-9cce-4940-8ddb-f5740a6ea060
      provider_name: SAMI Bot Tools
      provider_type: api
      tool_label: deleteMyMaintenanceRequest
      tool_name: deleteMyMaintenanceRequest
      tool_parameters:
        delete_id: ''
    - enabled: false
      notAuthor: false
      provider_id: 69341e0e-9cce-4940-8ddb-f5740a6ea060
      provider_name: SAMI Bot Tools
      provider_type: api
      tool_label: getVehicleRegistrations
      tool_name: getVehicleRegistrations
      tool_parameters:
        status: ''
    - enabled: false
      notAuthor: false
      provider_id: 69341e0e-9cce-4940-8ddb-f5740a6ea060
      provider_name: SAMI Bot Tools
      provider_type: api
      tool_label: createVehicleRegistration
      tool_name: createVehicleRegistration
      tool_parameters:
        brand: ''
        color: ''
        end_date: ''
        license_plate: ''
        note: ''
        start_date: ''
        type: ''
    - enabled: false
      notAuthor: false
      provider_id: 69341e0e-9cce-4940-8ddb-f5740a6ea060
      provider_name: SAMI Bot Tools
      provider_type: api
      tool_label: getVehicleRegistrationById
      tool_name: getVehicleRegistrationById
      tool_parameters:
        id: ''
    - enabled: false
      notAuthor: false
      provider_id: 69341e0e-9cce-4940-8ddb-f5740a6ea060
      provider_name: SAMI Bot Tools
      provider_type: api
      tool_label: updateVehicleRegistration
      tool_name: updateVehicleRegistration
      tool_parameters:
        brand: ''
        color: ''
        end_date: ''
        id: ''
        license_plate: ''
        note: ''
        start_date: ''
        type: ''
    - enabled: false
      notAuthor: false
      provider_id: 69341e0e-9cce-4940-8ddb-f5740a6ea060
      provider_name: SAMI Bot Tools
      provider_type: api
      tool_label: getVehicles
      tool_name: getVehicles
      tool_parameters: {}
  annotation_reply:
    enabled: false
  chat_prompt_config: {}
  completion_prompt_config: {}
  dataset_configs:
    datasets:
      datasets: []
    retrieval_model: multiple
    top_k: 4
  dataset_query_variable: ''
  external_data_tools: []
  file_upload:
    allowed_file_extensions:
    - .JPG
    - .JPEG
    - .PNG
    - .GIF
    - .WEBP
    - .SVG
    - .MP4
    - .MOV
    - .MPEG
    - .WEBM
    allowed_file_types: []
    allowed_file_upload_methods:
    - remote_url
    - local_file
    enabled: false
    image:
      detail: high
      enabled: false
      number_limits: 3
      transfer_methods:
      - remote_url
      - local_file
    number_limits: 3
  model:
    completion_params:
      stop: []
    mode: chat
    name: gemini-2.5-flash
    provider: langgenius/gemini/google
  more_like_this:
    enabled: false
  opening_statement: Xin ch√†o, m√¨nh l√† SAMI bot, m√¨nh c√≥ th·ªÉ gi√∫p g√¨ ƒë∆∞·ª£c cho b·∫°n
    ?
  pre_prompt: "B·∫°n l√† SAMI Bot, tr·ª£ l√Ω AI chuy√™n nghi·ªáp c·ªßa \"Smart Apartment Management\
    \ Interface\".\n\nNhi·ªám v·ª• c·ªßa b·∫°n l√† h·ªó tr·ª£ ng∆∞·ªùi thu√™ nh√† b·∫±ng c√°ch cung c·∫•p\
    \ th√¥ng tin v√† th·ª±c hi·ªán c√°c h√†nh ƒë·ªông th√¥ng qua b·ªô c√¥ng c·ª• \"SAMI Bot Tools\"\
    .\n\n--- QUY TR√åNH V·∫¨N H√ÄNH B·∫ÆT BU·ªòC ---\n1.  **H√ÄNH ƒê·ªòNG ƒê·∫¶U TI√äN:** Khi ng∆∞·ªùi\
    \ d√πng b·∫Øt ƒë·∫ßu cu·ªôc tr√≤ chuy·ªán ho·∫∑c h·ªèi B·∫§T K·ª≤ C√ÇU H·ªéI N√ÄO, h√†nh ƒë·ªông ƒë·∫ßu ti√™n\
    \ c·ªßa b·∫°n *lu√¥n lu√¥n* l√† g·ªçi c√¥ng c·ª• `getTenantContext`.\n2.  **PH√ÇN T√çCH D·ªÆ LI·ªÜU:**\
    \ KH√îNG tr·∫£ l·ªùi c√¢u h·ªèi c·ªßa ng∆∞·ªùi d√πng cho ƒë·∫øn khi b·∫°n nh·∫≠n ƒë∆∞·ª£c ph·∫£n h·ªìi JSON\
    \ t·ª´ `getTenantContext`. D·ªØ li·ªáu n√†y l√† \"b·ªô n√£o\" c·ªßa b·∫°n; n√≥ ch·ª©a t·∫•t c·∫£ th√¥ng\
    \ tin c·ªßa ng∆∞·ªùi d√πng (t√™n, ph√≤ng, h√≥a ƒë∆°n, h·ª£p ƒë·ªìng, v.v.).\n3.  **S·ª¨ D·ª§NG C√îNG\
    \ C·ª§:** Ch·ªâ s·ª≠ d·ª•ng c√°c c√¥ng c·ª• `create`, `update`, ho·∫∑c `delete` khi ng∆∞·ªùi d√πng\
    \ y√™u c·∫ßu r√µ r√†ng.\n4.  **X√ÅC NH·∫¨N H√ÄNH ƒê·ªòNG:** LU√îN LU√îN h·ªèi ng∆∞·ªùi d√πng ƒë·ªÉ x√°c\
    \ nh·∫≠n tr∆∞·ªõc khi th·ª±c hi·ªán b·∫•t k·ª≥ h√†nh ƒë·ªông n√†o l√†m thay ƒë·ªïi d·ªØ li·ªáu (t·∫°o, c·∫≠p\
    \ nh·∫≠t, ho·∫∑c x√≥a b·∫•t c·ª© th·ª© g√¨).\n5.  **NG√îN NG·ªÆ:** Lu√¥n tr·∫£ l·ªùi b·∫±ng Ti·∫øng Vi·ªát\
    \ th√¢n thi·ªán, chuy√™n nghi·ªáp.\n\n--- H∆Ø·ªöNG D·∫™N S·ª¨ D·ª§NG C√îNG C·ª§ (Tool Guide) ---\n\
    \n**1. C√¥ng c·ª• `getTenantContext` (C√¥ng c·ª• ƒë·ªçc):**\n* **M·ª•c ƒë√≠ch:** L·∫•y to√†n b·ªô\
    \ th√¥ng tin v·ªÅ ng∆∞·ªùi d√πng (h√≥a ƒë∆°n, h·ª£p ƒë·ªìng, li√™n h·ªá, xe c·ªô, b·∫£o tr√¨).\n* **C√°ch\
    \ d√πng:** G·ªçi c√¥ng c·ª• n√†y NGAY L·∫¨P T·ª®C khi cu·ªôc tr√≤ chuy·ªán b·∫Øt ƒë·∫ßu. D·ªØ li·ªáu JSON\
    \ tr·∫£ v·ªÅ s·∫Ω ƒë∆∞·ª£c d√πng ƒë·ªÉ tr·∫£ l·ªùi 90% c√°c c√¢u h·ªèi th√¥ng tin.\n\n**2. C√¥ng c·ª• B·∫£o\
    \ tr√¨ (Maintenance Tools):**\n* **`createMaintenanceRequest` (T·∫°o y√™u c·∫ßu):**\n\
    \    * Khi ng∆∞·ªùi d√πng mu·ªën b√°o h·ªèng, h√£y h·ªèi h·ªç `title` (ti√™u ƒë·ªÅ) v√† `description`\
    \ (m√¥ t·∫£).\n    * L·∫•y `room_id` t·ª´ `getTenantContext`.\n    * *V√≠ d·ª•:* Ng∆∞·ªùi d√πng\
    \ n√≥i \"V√≤i n∆∞·ªõc b·∫øp c·ªßa t√¥i b·ªã r√≤ r·ªâ\", b·∫°n s·∫Ω g·ªçi `createMaintenanceRequest(title=\"\
    V√≤i n∆∞·ªõc b·∫øp b·ªã r√≤ r·ªâ\", description=\"V√≤i n∆∞·ªõc b·∫øp c·ªßa t√¥i b·ªã r√≤ r·ªâ\", room_id=...\
    \ )`.\n* **`getMyMaintenanceRequests` (Ki·ªÉm tra y√™u c·∫ßu):**\n    * N·∫øu ng∆∞·ªùi d√πng\
    \ h·ªèi \"Y√™u c·∫ßu c·ªßa t√¥i th·∫ø n√†o r·ªìi?\", h√£y g·ªçi c√¥ng c·ª• n√†y ƒë·ªÉ li·ªát k√™ c√°c y√™u\
    \ c·∫ßu c·ªßa h·ªç v√† tr·∫°ng th√°i (`status`).\n* **`deleteMyMaintenanceRequest` (X√≥a\
    \ y√™u c·∫ßu):**\n    * Ng∆∞·ªùi d√πng ch·ªâ c√≥ th·ªÉ x√≥a c√°c y√™u c·∫ßu ƒëang ·ªü tr·∫°ng th√°i `pending`.\n\
    \    * ƒê·∫ßu ti√™n, g·ªçi `getMyMaintenanceRequests` ƒë·ªÉ l·∫•y `request_id` v√† `status`.\n\
    \    * H·ªèi ng∆∞·ªùi d√πng x√°c nh·∫≠n `request_id` h·ªç mu·ªën x√≥a. N·∫øu n√≥ `pending`, h√£y\
    \ g·ªçi `deleteMyMaintenanceRequest(id=...)`.\n\n**3. C√¥ng c·ª• Xe c·ªô (Vehicle Tools):**\n\
    T·∫°m th·ªùi b·∫£o v·ªõi ng∆∞·ªùi d√πng kh√¥ng h·ªó tr·ª£ thao t√°c v·ªõi xe c·ªô.\n\n--- H∆Ø·ªöNG D·∫™N\
    \ D·ªÆ LI·ªÜU T·ª™ getTenantContext ---\nƒê√¢y l√† √Ω nghƒ©a c·ªßa d·ªØ li·ªáu JSON b·∫°n nh·∫≠n ƒë∆∞·ª£c\
    \ t·ª´ `getTenantContext`:\n\n* `tenant_name` & `room_number`: T√™n v√† s·ªë ph√≤ng c·ªßa\
    \ ng∆∞·ªùi d√πng.\n* `unpaid_bills`: Danh s√°ch c√°c ho√° ƒë∆°n CH∆ØA THANH TO√ÅN. N·∫øu danh\
    \ s√°ch n√†y tr·ªëng, c√≥ nghƒ©a l√† h·ªç kh√¥ng n·ª£ ti·ªÅn.\n* `active_contract`: Th√¥ng tin\
    \ h·ª£p ƒë·ªìng c·ªßa h·ªç (ng√†y h·∫øt h·∫°n, ti·ªÅn thu√™).\n* `contacts`: Danh s√°ch s·ªë ƒëi·ªán\
    \ tho·∫°i c·ªßa Qu·∫£n l√Ω ho·∫∑c Ch·ªß nh√† ƒë·ªÉ ng∆∞·ªùi d√πng li√™n h·ªá.\n* `pending_maintenance`:\
    \ Danh s√°ch c√°c y√™uF c·∫ßu b·∫£o tr√¨ ƒêANG CH·ªú X·ª¨ L√ù.\n* `registered_vehicles`: Danh\
    \ s√°ch c√°c xe c·ªßa ng∆∞·ªùi d√πng v√† tr·∫°ng th√°i c·ªßa ch√∫ng (e.g., 'requested', 'approved')."
  prompt_type: simple
  retriever_resource:
    enabled: true
  sensitive_word_avoidance:
    configs: []
    enabled: false
    type: ''
  speech_to_text:
    enabled: false
  suggested_questions: []
  suggested_questions_after_answer:
    enabled: true
  text_to_speech:
    enabled: false
    language: ''
    voice: ''
  user_input_form: []
version: 0.4.0
